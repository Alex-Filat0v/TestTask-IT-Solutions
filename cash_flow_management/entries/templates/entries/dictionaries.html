<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <title>Управление справочниками</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body class="p-4">
<div class="container">
  <h2 class="text-center mb-4">Управление справочниками</h2>

  <div class="mb-4 text-end">
    <a class="btn btn-secondary" href="{% url 'home' %}">На главную</a>
  </div>

  <!-- Статусы -->
  <div class="mb-4 border rounded p-3">
    <h5 class="mb-3">Статусы</h5>
    <ul class="list-group">
      {% for status in statuses %}
        <li class="list-group-item d-flex justify-content-between align-items-center">
          {{ status.status_name }}
          <a href="{% url 'edit_dictionary_item' 'status' status.id %}" class="btn btn-sm btn-outline-primary">Редактировать</a>
        </li>
      {% empty %}
        <li class="list-group-item text-muted">Нет статусов</li>
      {% endfor %}
    </ul>
    <div class="mt-2 text-end">
      <a href="{% url 'edit_dictionary_item' 'status' 0 %}" class="btn btn-sm btn-success">Добавить статус</a>
    </div>
  </div>

  <!-- Типы -->
  <div class="mb-4 border rounded p-3">
    <h5 class="mb-3">Типы</h5>
    <ul class="list-group">
      {% for type in types %}
        <li class="list-group-item d-flex justify-content-between align-items-center">
          {{ type.type_name }}
          <a href="{% url 'edit_dictionary_item' 'type' type.id %}" class="btn btn-sm btn-outline-primary">Редактировать</a>
        </li>
      {% empty %}
        <li class="list-group-item text-muted">Нет типов</li>
      {% endfor %}
    </ul>
    <div class="mt-2 text-end">
      <a href="{% url 'edit_dictionary_item' 'type' 0 %}" class="btn btn-sm btn-success">Добавить тип</a>
    </div>
  </div>

  <!-- Категории -->
  <div class="mb-4 border rounded p-3">
    <h5 class="mb-3">Категории</h5>
    <ul class="list-group">
      {% for category in categories %}
        <li class="list-group-item d-flex justify-content-between align-items-center">
          {{ category.category_name }}
          <a href="{% url 'edit_dictionary_item' 'category' category.id %}" class="btn btn-sm btn-outline-primary">Редактировать</a>
        </li>
      {% empty %}
        <li class="list-group-item text-muted">Нет категорий</li>
      {% endfor %}
    </ul>
    <div class="mt-2 text-end">
      <a href="{% url 'edit_dictionary_item' 'category' 0 %}" class="btn btn-sm btn-success">Добавить категорию</a>
    </div>
  </div>

  <!-- Подкатегории -->
  <div class="mb-4 border rounded p-3">
    <h5 class="mb-3">Подкатегории</h5>
    <ul class="list-group">
      {% for subcategory in subcategories %}
        <li class="list-group-item d-flex justify-content-between align-items-center">
          {{ subcategory.subcategory_name }} (Категория: {{ subcategory.category.category_name }})
          <a href="{% url 'edit_dictionary_item' 'subcategory' subcategory.id %}" class="btn btn-sm btn-outline-primary">Редактировать</a>
        </li>
      {% empty %}
        <li class="list-group-item text-muted">Нет подкатегорий</li>
      {% endfor %}
    </ul>
    <div class="mt-2 text-end">
      <a href="{% url 'edit_dictionary_item' 'subcategory' 0 %}" class="btn btn-sm btn-success">Добавить подкатегорию</a>
    </div>
  </div>

  <!-- Связи категорий и типов -->
  <div class="mb-4 border rounded p-3">
    <h5 class="mb-3">Связи категорий и типов</h5>
    <ul class="list-group">
      {% for link in category_links %}
        <li class="list-group-item d-flex justify-content-between align-items-center">
          Тип: {{ link.type.type_name }} -> Категория: {{ link.category.category_name }}
          <a href="{% url 'edit_dictionary_item' 'link' link.id %}" class="btn btn-sm btn-outline-primary">Редактировать</a>
        </li>
      {% empty %}
        <li class="list-group-item text-muted">Нет связей</li>
      {% endfor %}
    </ul>
    <div class="mt-2 text-end">
      <a href="{% url 'edit_dictionary_item' 'link' 0 %}" class="btn btn-sm btn-success">Добавить связь</a>
    </div>
  </div>

</div>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
